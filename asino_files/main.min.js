$=jQuery;
var chatMessages = [{
    name: "ms1",
    align: "left",
    showTime: false,
},
    {
        name: "ms2",
        align: "right",
        showTime: false,
    },
    {
        name: "ms3",
        align: "left",
        showTime: false,
    },
    {
        name: "ms4",
        align: "right",
        showTime: false,
    },
    {
        name: "ms5",
        align: "left",
        showTime: false,
    },
    {
        name: "ms6",
        align: "right",
        showTime: false,
    },
    {
        name: "ms7",
        align: "left",
        showTime: false,
    },
    {
        name: "ms8",
        align: "right",
        showTime: false,
    },
    {
        name: "ms9",
        align: "left",
        showTime: false,
    },
    {
        name: "ms10",
        align: "right",
        showTime: false,
    },
    {
        name: "ms11",
        align: "left",
        showTime: false,
    },
    {
        name: "ms12",
        align: "right",
        showTime: false,
    },
    {
        name: "ms14",
        align: "left",
        showTime: false,
    },
    {
        name: "ms15",
        align: "right",
        showTime: false,
    },
    {
        name: "ms16",
        align: "left",
        showTime: false,
    },
    {
        name: "ms17",
        align: "right",
        showTime: false,
    },
    {
        name: "ms18",
        align: "left",
        showTime: false,
    },
    {
        name: "ms19",
        align: "right",
        showTime: false,
    },
    {
        name: "ms20",
        align: "left",
        showTime: false,
    },
    {
        name: "ms21",
        align: "right",
        showTime: false,
    },
    {
        name: "ms22",
        align: "left",
        showTime: false,
    },
    {
        name: "ms23",
        align: "right",
        showTime: false,
    },
    {
        name: "ms24",
        align: "left",
        showTime: false,
    },
    {
        name: "ms25",
        align: "right",
        showTime: false,
    },
    {
        name: "ms26",
        align: "left",
        showTime: false,
    },
    {
        name: "ms27",
        align: "right",
        showTime: false,
    },
    {
        name: "ms28",
        align: "left",
        showTime: false,
    },
    {
        name: "ms29",
        align: "right",
        showTime: false,
    },
    {
        name: "ms30",
        align: "left",
        showTime: false,
    }
];
var chatDelay = 0;

function onRowAdded() {
    $('.chat-container').animate({
        scrollTop: $('.chat-container').prop('scrollHeight')
    });
};
$.each(chatMessages, function(index, obj) {
    chatDelay = chatDelay;
    objDelay = 1000;

    chatDelay2 = chatDelay + objDelay + 1500;
    chatDelay3 = chatDelay2 + 10;
    scrollDelay = chatDelay;
    chatTimeString = " ";
    msgname = "." + obj.name;
    msginner = ".messageinner-" + obj.name;
    spinner = ".sp-" + obj.name;
    if (obj.showTime == true) {
        chatTimeString = "<span class='message-time'>" + obj.time + "</span>";
    }
    $(".chat-message-list").append("<li class='msg message-" + obj.align + " " + obj.name + "' hidden><div class='messageinner-" + obj.name + "' hidden><div class='message-inner'><div class='message-icon'></div><span class='message-text'>" + "<span class='line line-1'></span><span class='line line-2'></span><span class='line line-3'></span>" + "<div class='sp sp-" + obj.name + "'><span class='spinme spinme-" + obj.align + "'><div class='spinner'><div class='bounce1'></div><div class='bounce2'></div><div class='bounce3'></div></div></span></div>" + "</span>" + chatTimeString + "</div></div></li>");
    $(msgname).delay(chatDelay).fadeIn();
    $(spinner).delay(chatDelay2).fadeOut('fast');
    $(msginner).delay(chatDelay).fadeIn();

    $(msgname).delay(7000).animate({opacity: 0}, 250);
    // setTimeout($(msgname).delay(chatDelay).animate({opacity: 0}, 250), 9000)


    setTimeout(onRowAdded, chatDelay);
    setTimeout(onRowAdded, chatDelay3);
    chatDelay = chatDelay3;
});